<!doctype html>
<html class="no-js" lang="pl">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Indeks" href="genindex.html" /><link rel="search" title="Szukaj" href="search.html" /><link rel="next" title="Aplikacji do kontroli bazy danych" href="dok_apt2.html" /><link rel="prev" title="Dokumentacje aplikacji" href="dok.html" />

    <!-- Generated with Sphinx 6.1.3 and Furo 2023.03.27 -->
        <title>Aplikacji do pomiarów - DataBases - Studies</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">DataBases - Studies</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Szukaj" name="q" aria-label="Szukaj">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="wstep.html">Wstęp do sprawozdania</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="wstep_sqlite.html">SQLite</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="wstep_postgresql.html">PostgreSQL</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="pkt1.html">Lokalizacja i struktura katalogów</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt1_file.html">Pliki</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt1_folder.html">Katalogi</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="pkt2.html">Tabele - rozmiar, planowanie i monitorowanie</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt2_rozmiar.html">Rozmiar tabel</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt2_planowanie.html">Planowanie tabel</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt2_monitorowanie.html">Monitorowanie wydajności:</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="pkt3.html">Podstawowe parametry konfiguracyjne</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt3_1.html">Plik postgresql.conf:</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt3_2.html">Plik pg_hba.conf:</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pkt3_3.html">Plik pg_ident.conf:</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="dok.html">Dokumentacje aplikacji</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">Aplikacji do pomiarów</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dok_apt2.html">Aplikacji do kontroli bazy danych</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dok_atp3.html">Aplikacji do analizy danych</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="dzialanie.html">Działanie aplikacji</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="dz_1.html">Aplikacja do pomiarów</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dz_2.html">Aplikacja do kontroli bazy danych</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="dz_3.html">Aplikacja do analizy danych</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="aplikacji-do-pomiarow">
<h1>Aplikacji do pomiarów<a class="headerlink" href="#aplikacji-do-pomiarow" title="Permalink to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>create_connection(db_file)</strong></p></li>
</ol>
<p>Ta funkcja tworzy połączenie do bazy danych SQLite, przyjmując nazwę pliku bazy danych jako argument. Funkcja próbuje nawiązać połączenie i drukuje wersję SQLite, jeśli połączenie jest udane. Jeśli wystąpi błąd podczas nawiązywania połączenia, funkcja drukuje ten błąd. Na końcu funkcja zwraca obiekt połączenia lub wartość None, jeśli połączenie nie zostało ustanowione.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_connection</span><span class="p">(</span><span class="n">db_file</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot; create a database connection to a SQLite database &quot;&quot;&quot;</span>
 <span class="n">conn</span> <span class="o">=</span> <span class="kc">None</span>
 <span class="k">try</span><span class="p">:</span>
     <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db_file</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">sqlite3</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
 <span class="k">except</span> <span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
 <span class="k">return</span> <span class="n">conn</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>create_table(conn, create_table_sql)</strong></p></li>
</ol>
<p>Ta funkcja tworzy tabelę w bazie danych przy użyciu podanego polecenia SQL. Przyjmuje dwa argumenty: obiekt połączenia (conn) oraz polecenie CREATE TABLE w formie tekstu (create_table_sql). Następnie funkcja próbuje utworzyć kursor (c) na podstawie połączenia i wykonuje polecenie SQL na tym kursorze. Jeśli wystąpi błąd podczas wykonywania polecenia, funkcja drukuje ten błąd. Funkcja nie zwraca żadnej wartości.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">create_table</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">create_table_sql</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot; create a table from the create_table_sql statement</span>
<span class="sd"> :param conn: Connection object</span>
<span class="sd"> :param create_table_sql: a CREATE TABLE statement</span>
<span class="sd"> :return:</span>
<span class="sd"> &quot;&quot;&quot;</span>
 <span class="k">try</span><span class="p">:</span>
     <span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
     <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">create_table_sql</span><span class="p">)</span>
 <span class="k">except</span> <span class="n">Error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>select_all_data(conn)</strong></p></li>
</ol>
<p>Ta funkcja wykonuje zapytanie SQL „SELECT * FROM pomiary” na podanym obiekcie połączenia (conn). Następnie tworzy kursor (cur) na podstawie tego połączenia i wykonuje zapytanie na tym kursorze. Wyniki zapytania są pobierane przy użyciu metody fetchall() i przechowywane w zmiennej „rows”. Następnie funkcja iteruje przez każdy wiersz wynikowy i drukuje go na ekranie. Po każdym wierszu, funkcja oczekuje na wciśnięcie klawisza Enter przez użytkownika, aby kontynuować wyświetlanie kolejnych wierszy. Funkcja nie zwraca żadnej wartości.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">select_all_data</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
 <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM pomiary&quot;</span><span class="p">)</span>

 <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

 <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
     <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Dalej? &quot;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>insert_data_db(conn, pomiar)</strong></p></li>
</ol>
<p>Ta funkcja służy do wstawiania danych do bazy danych SQLite. Przyjmuje dwa argumenty: obiekt połączenia (conn) oraz dane pomiaru (pomiar). Funkcja tworzy polecenie SQL za pomocą parametryzowanego zapytania wstawiania danych. Następnie tworzy kursor (cur) na podstawie połączenia i wykonuje zapytanie SQL, przekazując dane pomiaru do zapytania. Po wykonaniu zapytania, zmiany są zatwierdzane w bazie danych przy użyciu metody commit(). Na koniec funkcja zwraca identyfikator ostatnio wstawionego wiersza w bazie danych za pomocą cur.lastrowid.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">insert_data_db</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">pomiar</span><span class="p">):</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39; INSERT INTO pomiary(ulica,numer_budynku,numer_mieszkania,pomiar,data_pomiaru)</span>
<span class="s1">               VALUES(?,?,?,?,?) &#39;&#39;&#39;</span>
 <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">pomiar</span><span class="p">)</span>
 <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">return</span> <span class="n">cur</span><span class="o">.</span><span class="n">lastrowid</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>insert_data_user(conn)</strong></p></li>
</ol>
<p>Ta funkcja służy do pobierania danych od użytkownika i wstawiania ich do bazy danych przy użyciu funkcji „insert_data_db”. Funkcja wykorzystuje funkcję „input” do pobrania wartości od użytkownika dla kolejnych pól: ulicy, numeru budynku, numeru mieszkania, pomiaru licznika i daty pomiaru. Następnie tworzy krotkę „pomiar” zawierającą pobrane wartości, a następnie wywołuje funkcję „insert_data_db”, przekazując obiekt połączenia (conn) oraz krotkę „pomiar”.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">insert_data_user</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
 <span class="n">ulica</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Podaj ulicę: &quot;</span><span class="p">)</span>
 <span class="n">nr_budynku</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Podaj numer budynku: &quot;</span><span class="p">)</span>
 <span class="n">nr_mieszkania</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Podaj numer mieszkania: &quot;</span><span class="p">)</span>
 <span class="n">pomiar</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Podaj pomiar licznika: &quot;</span><span class="p">)</span>
 <span class="n">data</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Podaj date pomiaru(r-m-d): &quot;</span><span class="p">)</span>
 <span class="n">pomiar</span> <span class="o">=</span> <span class="p">(</span><span class="n">ulica</span><span class="p">,</span><span class="n">nr_budynku</span><span class="p">,</span><span class="n">nr_mieszkania</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">pomiar</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>
 <span class="n">insert_data_db</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">pomiar</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p><strong>delete_data(conn,id)</strong></p></li>
</ol>
<p>Ta funkcja służy do usuwania danych z bazy danych SQLite. Przyjmuje dwa argumenty: obiekt połączenia (conn) oraz identyfikator (id) wiersza, który ma zostać usunięty. Funkcja tworzy polecenie SQL DELETE, które usuwa wiersz z tabeli „pomiary” na podstawie podanego identyfikatora. Następnie tworzy kursor (cur) na podstawie połączenia i wykonuje zapytanie SQL, przekazując identyfikator jako parametr w krotce. Po wykonaniu zapytania, zmiany są zatwierdzane w bazie danych przy użyciu metody commit().</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">delete_data</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="nb">id</span><span class="p">):</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;DELETE FROM pomiary WHERE id=?&quot;</span>
 <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,(</span><span class="nb">id</span><span class="p">,))</span>
 <span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p><strong>save_csv(conn)</strong></p></li>
</ol>
<p>Ta funkcja służy do zapisywania danych z bazy danych do pliku CSV. Funkcja wykonuje zapytanie SQL „SELECT * FROM pomiary” na podanym obiekcie połączenia (conn). Następnie pobiera wszystkie wiersze wynikowe i zapisuje je do pliku CSV o nazwie „pomiary.csv”. W każdej iteracji, funkcja tworzy nowy wiersz „new_row”, który zawiera dane z wiersza wynikowego, z pominięciem pierwszej kolumny (prawdopodobnie identyfikatora). Następnie, za pomocą obiektu writer z modułu csv, zapisuje wiersz do pliku CSV. Po zapisaniu wszystkich wierszy, funkcja drukuje komunikat „Dane zapisane” i oczekuje na wciśnięcie klawisza Enter przez użytkownika, aby kontynuować.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">save_csv</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
 <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM pomiary&quot;</span><span class="p">)</span>

 <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
 <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;pomiary.csv&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
         <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
     <span class="n">new_row</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
     <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;pomiary.csv&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
         <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
         <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">new_row</span><span class="p">)</span>
 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dane zapisane&quot;</span><span class="p">)</span>
 <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Dalej? &quot;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li><p><strong>program(options, conn)</strong></p></li>
</ol>
<p>Ta funkcja „program” służy do sterowania programem na podstawie opcji wybranych przez użytkownika. Przyjmuje dwa argumenty: opcje (options) i obiekt połączenia (conn) do bazy danych.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">conn</span><span class="p">):</span>
 <span class="k">match</span> <span class="n">options</span><span class="p">:</span>
     <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
         <span class="n">next_data</span> <span class="o">=</span> <span class="s2">&quot;tak&quot;</span>
         <span class="k">while</span> <span class="n">next_data</span> <span class="o">==</span> <span class="s2">&quot;tak&quot;</span><span class="p">:</span>
             <span class="n">insert_data_user</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
             <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Następne dane?&quot;</span><span class="p">)</span>
             <span class="n">next_data</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Tak/Nie: &quot;</span><span class="p">)</span>
     <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
         <span class="n">select_all_data</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
     <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
         <span class="nb">id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Podaj id: &quot;</span><span class="p">)</span>
         <span class="n">delete_data</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="nb">id</span><span class="p">)</span>
         <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dane usunięte&quot;</span><span class="p">)</span>
         <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Dalej? &quot;</span><span class="p">)</span>
     <span class="k">case</span> <span class="mi">4</span><span class="p">:</span>
         <span class="n">save_csv</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li><p><strong>main()</strong></p></li>
</ol>
<p>Ta funkcja „main” jest główną funkcją programu. Inicjalizuje bazę danych, tworzy tabelę „pomiary” (jeśli jeszcze nie istnieje), a następnie uruchamia pętlę, w której użytkownik może wybierać różne opcje.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
 <span class="n">database</span> <span class="o">=</span> <span class="s2">&quot;pomiary_temp.db&quot;</span>
 <span class="n">conn</span> <span class="o">=</span> <span class="n">create_connection</span><span class="p">(</span><span class="n">database</span><span class="p">)</span>
 <span class="n">sql_create_pomiary_table</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot; CREATE TABLE IF NOT EXISTS pomiary (</span>
<span class="s2">                                         id integer PRIMARY KEY,</span>
<span class="s2">                                         ulica text NOT NULL,</span>
<span class="s2">                                         numer_budynku int NOT NULL,</span>
<span class="s2">                                         numer_mieszkania int NOT NULL,</span>
<span class="s2">                                         pomiar int NOT NULL,</span>
<span class="s2">                                         data_pomiaru date NOT NULL</span>
<span class="s2">                                     ); &quot;&quot;&quot;</span>
 <span class="n">create_table</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">sql_create_pomiary_table</span><span class="p">)</span>
 <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1. Wprowadź dane&quot;</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;2. Sprawdź dane&quot;</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3. Usuń wybrane dane&quot;</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;4. Zapisz dane do pliku csv&quot;</span><span class="p">)</span>
     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;5. Wyjdź&quot;</span><span class="p">)</span>
     <span class="n">option</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Wybierz opcję: &quot;</span><span class="p">))</span>
     <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
         <span class="k">break</span>
     <span class="n">program</span><span class="p">(</span><span class="n">option</span><span class="p">,</span> <span class="n">conn</span><span class="p">)</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="dok_apt2.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Aplikacji do kontroli bazy danych</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="dok.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Dokumentacje aplikacji</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Adam, Kamil
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/translations.js"></script>
    </body>
</html>